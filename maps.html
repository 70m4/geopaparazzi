<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Supported datasets &mdash; Geopaparazzi 4.4.0 documentation</title>
    
    <link rel="stylesheet" href="_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '4.4.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/sidebar.js"></script>
    <link rel="top" title="Geopaparazzi 4.4.0 documentation" href="index.html" />
    <link rel="next" title="Handling datasets from and for Geopaparazzi" href="maps_handling.html" />
    <link rel="prev" title="Settings &amp; Preferences" href="settings.html" /> 
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="maps_handling.html" title="Handling datasets from and for Geopaparazzi"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="settings.html" title="Settings &amp; Preferences"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Geopaparazzi 4.4.0 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="supported-datasets">
<span id="maps"></span><span id="index-0"></span><h1>Supported datasets<a class="headerlink" href="#supported-datasets" title="Permalink to this headline">¶</a></h1>
<p>Geopaparazzi&#8217;s mapview supports several map-types: vector or raster, editable or static. Also,
maps can be pulled live from an Internet server, or be generated locally from a map data file for
offline operation. You can switch between these modes in settings.</p>
<p>There are two types of maps in Geopaparazzi:</p>
<blockquote>
<div><ul class="simple">
<li><strong>basemaps</strong>: the background map in the map view</li>
<li><strong>overlay maps</strong>: vector maps that can be shown on top of the basemaps</li>
</ul>
</div></blockquote>
<p>If you add local/offline maps, the map data files need to be placed in the configured
maps folder, which is a folder called <em>maps</em> in the <strong>root of the sdcard</strong> by default.
You can change this path in <a class="reference internal" href="settings.html#custommapsfolder"><span class="std std-ref">settings</span></a>.</p>
<p>The following sections will detail various map source types. In case you want to prepare
tailored map datasets as map sources in one of below map formats, please refer to the
<a class="reference internal" href="maps_handling.html#datapreparation"><span class="std std-ref">data preparation section</span></a>.</p>
<div class="section" id="basemaps">
<h2>Basemaps<a class="headerlink" href="#basemaps" title="Permalink to this headline">¶</a></h2>
<p>Basemaps can be of 4 different types:</p>
<ul class="simple">
<li>mapurls</li>
<li>mbtiles</li>
<li>mapsforge maps</li>
<li>rasterlite2</li>
</ul>
<div class="section" id="mapurls-custom-tiles-based-maps">
<h3>Mapurls: Custom tiles based maps<a class="headerlink" href="#mapurls-custom-tiles-based-maps" title="Permalink to this headline">¶</a></h3>
<p>Mapurl files are simple text files containing definitions of tile sources, either local or remote.
A mapurl file must have the file extention/suffix <em>.mapurl</em> to be recognised by Geopaparazzi.</p>
<div class="section" id="remote-tile-sources">
<h4>Remote Tile sources<a class="headerlink" href="#remote-tile-sources" title="Permalink to this headline">¶</a></h4>
<p>By default, Geopaparazzi is configured to load map mapnik rendered tiles live from the Internet, from OpenStreetMap&#8217;s tile server. Compare the contents of the included mapnik.mapurl file for how this is done. You can exchange the OSM tile server with any other tile server as long as it adheres to the Mapurl URL conventions. The basics are:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">url</span><span class="o">=</span><span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">tile</span><span class="o">.</span><span class="n">openstreetmap</span><span class="o">.</span><span class="n">org</span><span class="o">/</span><span class="n">ZZZ</span><span class="o">/</span><span class="n">XXX</span><span class="o">/</span><span class="n">YYY</span><span class="o">.</span><span class="n">png</span>
<span class="n">minzoom</span><span class="o">=</span><span class="mi">0</span>
<span class="n">maxzoom</span><span class="o">=</span><span class="mi">19</span>
<span class="n">center</span><span class="o">=</span><span class="mf">11.42</span> <span class="mf">46.8</span>
<span class="nb">type</span><span class="o">=</span><span class="n">google</span>
<span class="nb">format</span><span class="o">=</span><span class="n">png</span>
<span class="n">defaultzoom</span><span class="o">=</span><span class="mi">13</span>
<span class="n">mbtiles</span><span class="o">=</span><span class="n">defaulttiles</span><span class="o">/</span><span class="n">_mapnik</span><span class="o">.</span><span class="n">mbtiles</span>
<span class="n">description</span><span class="o">=</span><span class="n">Mapnik</span> <span class="o">-</span> <span class="n">Openstreetmap</span> <span class="n">Slippy</span> <span class="n">Map</span> <span class="n">Tileserver</span> <span class="o">-</span> <span class="n">Data</span><span class="p">,</span> <span class="n">imagery</span> <span class="ow">and</span> <span class="nb">map</span> <span class="n">information</span> <span class="n">provided</span> <span class="n">by</span> <span class="n">MapQuest</span><span class="p">,</span> <span class="n">OpenStreetMap</span> <span class="ow">and</span> <span class="n">contributors</span><span class="p">,</span> <span class="n">ODbL</span><span class="o">.</span>

</pre></div>
</div>
<p>The mandatory information is:</p>
<ul>
<li><p class="first">the url of the tile server, having:</p>
<ul class="simple">
<li><em>ZZZ</em> instead of the zoom level</li>
<li><em>XXX</em> instead of the tile column number</li>
<li><em>YYY</em> instead of the tile row number</li>
</ul>
<p>This information can be tested also in a browser
<a class="reference external" href="http://tile.openstreetmap.org/9/271/182.png">http://tile.openstreetmap.org/9/271/182.png</a> has ZZZ=9, XXX=271 and YYY=182</p>
</li>
<li><p class="first">the minimum zoom level that is supported</p>
</li>
<li><p class="first">the maximum zoom level that is supported</p>
</li>
<li><p class="first">the center of the tile source</p>
</li>
<li><p class="first">the type fo tile server. Currently both <a class="reference external" href="http://en.wikipedia.org/wiki/Tile_Map_Service">standard TMS</a>
and google based numbering of the tiles is supported by the line:</p>
<ul class="simple">
<li>type=tms</li>
<li>type=google</li>
</ul>
</li>
<li><p class="first">the backup mbtiles path. This one is used to save downloaded tiles in the
local mbtiles database</p>
</li>
</ul>
<p>Also WMS works as remote source, as long as it can be accessed through an <strong>EPSG:4326</strong> projection.</p>
<p>An example for the url part is:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>url=http://sdi.provincia.bz.it/geoserver/wms?LAYERS=inspire:OI.ORTHOIMAGECOVERAGE.2011&amp;TRANSPARENT=true&amp;FORMAT=image/png&amp;SERVICE=WMS&amp;VERSION=1.1.1&amp;REQUEST=GetMap&amp;STYLES=&amp;EXCEPTIONS=application/vnd.ogc.se_inimage&amp;SRS=EPSG:4326&amp;BBOX=XXX,YYY,XXX,YYY&amp;WIDTH=256&amp;HEIGHT=256
</pre></div>
</div>
<p>Important here are:</p>
<ul class="simple">
<li>SRS=EPSG:4326</li>
<li>BBOX=XXX,YYY,XXX,YYY</li>
</ul>
<p>Geopaparazzi will cache/store downloaded Mapurl tiles in a local MBTiles SQLite file, so pre-fetched tiles will remain viewable when Geopaparazzi is operated disconnected from a remote Mapurl source (in offline operation).</p>
</div>
<div class="section" id="local-tile-sources">
<h4>Local Tile sources<a class="headerlink" href="#local-tile-sources" title="Permalink to this headline">¶</a></h4>
<p>Just like your mapurl configuration may reference an online/remote tile
sources, your mapurl setting may reference a local tile source for offline
use. This way it&#8217;s possible to load on any smarthphone complex maps as for
example the following map that has a technical basemap with shapefiles
overlayed in transparency</p>
<p>To be able to load such maps, one needs to prepare the tiles properly.
This can be done via in several ways as explained in the <a class="reference internal" href="maps_handling.html#datapreparation"><span class="std std-ref">data
preparation section</span></a>.</p>
<p>The tile folder have then to be loaded in the <em>maps</em> folder together
with the description of the tile source:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">url</span><span class="o">=</span><span class="n">mytilesfolder</span><span class="o">/</span><span class="n">ZZZ</span><span class="o">/</span><span class="n">XXX</span><span class="o">/</span><span class="n">YYY</span><span class="o">.</span><span class="n">png</span>
<span class="n">minzoom</span><span class="o">=</span><span class="mi">12</span>
<span class="n">maxzoom</span><span class="o">=</span><span class="mi">18</span>
<span class="n">center</span><span class="o">=</span><span class="mf">11.40553</span> <span class="mf">46.39478</span>
<span class="nb">type</span><span class="o">=</span><span class="n">tms</span>
</pre></div>
</div>
<p>Nothing changes against the description for the remote source apart of
the url. The url in this case represents the relative path of the tiles
folder starting from the <em>&#8220;maps&#8221;</em> folder.</p>
<p><strong>A note of warning:</strong> Filesystems are know to have problems in handling
large amounts of very small files. This the exact case of local tile
sources. If the dataset is large, it gets very hard to move the data
from and to the device. Therefore this method, even if still supported,
is flagged as deprecated. The <strong>MBTiles</strong> datasource, explained in the next
section, should be used instead.</p>
</div>
</div>
<div class="section" id="mbtiles">
<span id="index-1"></span><span id="id1"></span><h3>MBTiles<a class="headerlink" href="#mbtiles" title="Permalink to this headline">¶</a></h3>
<p>MBTiles is a file format for storing map tiles in a single file. It is, technically, a SQLite database.
See the <a class="reference external" href="http://wiki.openstreetmap.org/wiki/MBTiles">openstreetmap wiki</a> for more information.</p>
</div>
<div class="section" id="mapsforge-maps">
<span id="mapsforgemaps"></span><span id="index-2"></span><h3>Mapsforge maps<a class="headerlink" href="#mapsforge-maps" title="Permalink to this headline">¶</a></h3>
<p>The mapsforge project provides free and open software for the rendering of maps based on OpenStreetMap. It developed an efficient binary format for storage of OSM map data (usually with file extension <strong>.map</strong>), and is offering country specific .map files for download. Geopaparazzi is able to render map tiles locally from .map files and will cache rendered tiles in a local MBTiles store.</p>
<p>Apart from Mapsforge itself, openandmaps is also offering .map files but with a different data bias and different render theme.</p>
<div class="section" id="mapsforge">
<h4>mapsforge<a class="headerlink" href="#mapsforge" title="Permalink to this headline">¶</a></h4>
<p>These are the standard maps generated, maintained and distributed by the <a class="reference external" href="http://code.google.com/p/mapsforge/">mapsforge</a>
team and downloadable from <a class="reference external" href="http://download.mapsforge.org/">their server</a>.</p>
<p>In their default style they kind of look like:</p>
<div class="figure align-center">
<a class="reference internal image-reference" href="_images/01_mapsforge_maps.png"><img alt="_images/01_mapsforge_maps.png" src="_images/01_mapsforge_maps.png" style="width: 300px;" /></a>
</div>
</div>
<div class="section" id="openandmaps">
<h4>openandmaps<a class="headerlink" href="#openandmaps" title="Permalink to this headline">¶</a></h4>
<p><a class="reference external" href="http://www.openandromaps.org">Openandromaps</a> generates maps following the opencycle
theme, with isolines and more hiking related stuff. The map files are larger but worth
every byte. Their <a class="reference external" href="http://www.openandromaps.org/en/download.html">download area is here</a>.</p>
<p>With the Oruxmaps theme that is available from the download area, the maps look like:</p>
<div class="figure align-center">
<a class="reference internal image-reference" href="_images/02_cycle_maps.png"><img alt="_images/02_cycle_maps.png" src="_images/02_cycle_maps.png" style="width: 300px;" /></a>
</div>
</div>
<div class="section" id="apply-a-render-theme">
<h4>Apply a render theme<a class="headerlink" href="#apply-a-render-theme" title="Permalink to this headline">¶</a></h4>
<p>When rendereing mapforge tiles locally, Geopaparazzi applies render themes if they are
found on the disk. In order to be found, the render theme xml file needs to have the
same name as the map file.
Ex, the above cycle map example has a:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">italy_cycle</span><span class="o">.</span><span class="n">map</span>
</pre></div>
</div>
<p>and a:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">italy_cycle</span><span class="o">.</span><span class="n">xml</span>
</pre></div>
</div>
<p>render theme file in the same folder as the map file itself.</p>
</div>
</div>
<div class="section" id="rasterlite2">
<span id="index-3"></span><span id="id3"></span><h3>RasterLite2<a class="headerlink" href="#rasterlite2" title="Permalink to this headline">¶</a></h3>
<p><a class="reference external" href="https://www.gaia-gis.it/fossil/librasterlite2/wiki?name=librasterlite2">RasterLite2</a> is a raster
format implemented in the <a class="reference external" href="https://www.gaia-gis.it/fossil/libspatialite/index">spatialite database</a>.</p>
<p>At the time of writing it is released as development version and supported in Geopaparazzi for testing.</p>
</div>
</div>
<div class="section" id="overlay-maps">
<h2>Overlay maps<a class="headerlink" href="#overlay-maps" title="Permalink to this headline">¶</a></h2>
<p>The only datasets that can be overlayed on top of basemaps are vector maps
coming from a <a class="reference external" href="https://www.gaia-gis.it/fossil/libspatialite/index">spatialite database</a>.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="index.html">
              <img class="logo" src="_static/ic_launcher.png" alt="Logo"/>
            </a></p>
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Supported datasets</a><ul>
<li><a class="reference internal" href="#basemaps">Basemaps</a><ul>
<li><a class="reference internal" href="#mapurls-custom-tiles-based-maps">Mapurls: Custom tiles based maps</a><ul>
<li><a class="reference internal" href="#remote-tile-sources">Remote Tile sources</a></li>
<li><a class="reference internal" href="#local-tile-sources">Local Tile sources</a></li>
</ul>
</li>
<li><a class="reference internal" href="#mbtiles">MBTiles</a></li>
<li><a class="reference internal" href="#mapsforge-maps">Mapsforge maps</a><ul>
<li><a class="reference internal" href="#mapsforge">mapsforge</a></li>
<li><a class="reference internal" href="#openandmaps">openandmaps</a></li>
<li><a class="reference internal" href="#apply-a-render-theme">Apply a render theme</a></li>
</ul>
</li>
<li><a class="reference internal" href="#rasterlite2">RasterLite2</a></li>
</ul>
</li>
<li><a class="reference internal" href="#overlay-maps">Overlay maps</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="settings.html"
                        title="previous chapter">Settings &amp; Preferences</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="maps_handling.html"
                        title="next chapter">Handling datasets from and for Geopaparazzi</a></p>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="maps_handling.html" title="Handling datasets from and for Geopaparazzi"
             >next</a> |</li>
        <li class="right" >
          <a href="settings.html" title="Settings &amp; Preferences"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Geopaparazzi 4.4.0 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &copy; Copyright 2015, HydroloGIS S.r.l..
      Last updated on Apr 15, 2016.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.4.1.
    </div>
  </body>
</html>